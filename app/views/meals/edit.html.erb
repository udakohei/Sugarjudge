<div class="container">
  <h1 class="mt-3">食品選択</h1>
  <%= image_tag @meal.meal_image.url, class: 'img-fluid d-block mx-auto', size: '500x500' %>
  <%= @meal.analyzed_foods %>
  <div id="js-concrete-checkbox">
    <%= form_with model: @meal, local: true, class: 'mt-3' do |f| %>
      <table class="table table-hover table-bordered">
        <thead>
          <tr>
            <th><%= Food.human_attribute_name(:name) %></th>
            <th>選択する/しない</th>
          </tr>
        </thead>
        <tbody>
          <%= f.collection_check_boxes :food_ids, @concrete_foods, :id, :name do |food| %>
            <%= food.label do %>
              <tr class="js-checkbox-<%= food.object.role %>">
                <td><%= food.object.name %></td>
                <td><%= food.check_box class: 'js-concrete-chk' %></td>
              </tr>
            <% end %>
          <% end %>
        </tbody>
      </table>
      <div class="row justify-content-end mt-5">
        <%= f.submit '選択する', class: 'btn btn-primary col-sm-2' %>
      </div>
    <% end %>
  </div>
  <div id="js-abstract-checkbox">
    <%= form_with model: @meal, local: true, class: 'mt-3' do |f| %>
      <table class="table table-hover table-bordered">
        <thead>
          <tr>
            <th><%= Food.human_attribute_name(:name) %></th>
            <th>選択する/しない</th>
          </tr>
        </thead>
        <tbody>
          <%= f.collection_check_boxes :food_ids, @abstract_foods, :id, :name do |food| %>
            <%= food.label do %>
              <tr class="js-checkbox-<%= food.object.role %>">
                <td><%= food.object.name %></td>
                <td><%= food.check_box class: 'js-abstract-chk' %></td>
              </tr>
            <% end %>
          <% end %>
        </tbody>
      </table>
      <div class="row justify-content-end mt-5">
        <%= f.submit '選択する', class: 'btn btn-primary col-sm-2' %>
      </div>
    <% end %>
  </div>
  <div class="row justify-content-end mt-2">
    <button class="btn btn-danger col-sm-2" id="js-abstract-button">このなかにない</button>
  </div>
</div>